<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>HTTP | VuePress</title>
    <meta name="generator" content="VuePress 1.9.7">
    
    <meta name="description" content="Just playing around">
    
    <link rel="preload" href="/chuting.github.io/assets/css/0.styles.11c7d281.css" as="style"><link rel="preload" href="/chuting.github.io/assets/js/app.ddf6de4f.js" as="script"><link rel="preload" href="/chuting.github.io/assets/js/2.32e0a827.js" as="script"><link rel="preload" href="/chuting.github.io/assets/js/13.9f3839f9.js" as="script"><link rel="prefetch" href="/chuting.github.io/assets/js/10.607b2e0f.js"><link rel="prefetch" href="/chuting.github.io/assets/js/11.22ce7219.js"><link rel="prefetch" href="/chuting.github.io/assets/js/12.991732c2.js"><link rel="prefetch" href="/chuting.github.io/assets/js/14.7ee2f184.js"><link rel="prefetch" href="/chuting.github.io/assets/js/15.83dbb93a.js"><link rel="prefetch" href="/chuting.github.io/assets/js/16.b32daf4b.js"><link rel="prefetch" href="/chuting.github.io/assets/js/3.cf4aa34d.js"><link rel="prefetch" href="/chuting.github.io/assets/js/4.f52a9602.js"><link rel="prefetch" href="/chuting.github.io/assets/js/5.ef7a43d3.js"><link rel="prefetch" href="/chuting.github.io/assets/js/6.66a8fb3c.js"><link rel="prefetch" href="/chuting.github.io/assets/js/7.bcf25ca1.js"><link rel="prefetch" href="/chuting.github.io/assets/js/8.0a01ba2b.js"><link rel="prefetch" href="/chuting.github.io/assets/js/9.bd5b7795.js">
    <link rel="stylesheet" href="/chuting.github.io/assets/css/0.styles.11c7d281.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/chuting.github.io/" class="home-link router-link-active"><img src="https://vuejs.org/images/logo.png" alt="VuePress" class="logo"> <span class="site-name can-hide">VuePress</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="vue文档" class="dropdown-title"><span class="title">vue文档</span> <span class="arrow down"></span></button> <button type="button" aria-label="vue文档" class="mobile-dropdown-title"><span class="title">vue文档</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="https://cn.vuejs.org/v2/guide/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  vue2
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li><li class="dropdown-item"><!----> <a href="https://v3.cn.vuejs.org/guide/introduction.html" target="_blank" rel="noopener noreferrer" class="nav-link external">
  旧版vue3
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li><li class="dropdown-item"><!----> <a href="https://staging-cn.vuejs.org/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  新版vue3
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="TS文档" class="dropdown-title"><span class="title">TS文档</span> <span class="arrow down"></span></button> <button type="button" aria-label="TS文档" class="mobile-dropdown-title"><span class="title">TS文档</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="https://jkchao.github.io/typescript-book-chinese/#why" target="_blank" rel="noopener noreferrer" class="nav-link external">
  深入理解Typescript
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li><li class="dropdown-item"><!----> <a href="https://www.tslang.cn/docs/handbook/basic-types.html" target="_blank" rel="noopener noreferrer" class="nav-link external">
  中文官网
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="JS文档" class="dropdown-title"><span class="title">JS文档</span> <span class="arrow down"></span></button> <button type="button" aria-label="JS文档" class="mobile-dropdown-title"><span class="title">JS文档</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="https://developer.mozilla.org/zh-CN/docs/Learn/JavaScript" target="_blank" rel="noopener noreferrer" class="nav-link external">
  MDN
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li><li class="dropdown-item"><!----> <a href="https://es6.ruanyifeng.com/#docs/intro" target="_blank" rel="noopener noreferrer" class="nav-link external">
  阮一峰ES6
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li></ul></div></div> <!----></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="vue文档" class="dropdown-title"><span class="title">vue文档</span> <span class="arrow down"></span></button> <button type="button" aria-label="vue文档" class="mobile-dropdown-title"><span class="title">vue文档</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="https://cn.vuejs.org/v2/guide/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  vue2
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li><li class="dropdown-item"><!----> <a href="https://v3.cn.vuejs.org/guide/introduction.html" target="_blank" rel="noopener noreferrer" class="nav-link external">
  旧版vue3
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li><li class="dropdown-item"><!----> <a href="https://staging-cn.vuejs.org/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  新版vue3
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="TS文档" class="dropdown-title"><span class="title">TS文档</span> <span class="arrow down"></span></button> <button type="button" aria-label="TS文档" class="mobile-dropdown-title"><span class="title">TS文档</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="https://jkchao.github.io/typescript-book-chinese/#why" target="_blank" rel="noopener noreferrer" class="nav-link external">
  深入理解Typescript
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li><li class="dropdown-item"><!----> <a href="https://www.tslang.cn/docs/handbook/basic-types.html" target="_blank" rel="noopener noreferrer" class="nav-link external">
  中文官网
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="JS文档" class="dropdown-title"><span class="title">JS文档</span> <span class="arrow down"></span></button> <button type="button" aria-label="JS文档" class="mobile-dropdown-title"><span class="title">JS文档</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="https://developer.mozilla.org/zh-CN/docs/Learn/JavaScript" target="_blank" rel="noopener noreferrer" class="nav-link external">
  MDN
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li><li class="dropdown-item"><!----> <a href="https://es6.ruanyifeng.com/#docs/intro" target="_blank" rel="noopener noreferrer" class="nav-link external">
  阮一峰ES6
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li></ul></div></div> <!----></nav>  <ul class="sidebar-links"><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>Vue</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>Typescript</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading open"><span>HTTP</span> <span class="arrow down"></span></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/chuting.github.io/http/HTTP.html" aria-current="page" class="active sidebar-link">HTTP</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/chuting.github.io/http/HTTP.html#过程" class="sidebar-link">过程</a></li><li class="sidebar-sub-header"><a href="/chuting.github.io/http/HTTP.html#状态码" class="sidebar-link">状态码</a></li><li class="sidebar-sub-header"><a href="/chuting.github.io/http/HTTP.html#http缓存" class="sidebar-link">HTTP缓存</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/chuting.github.io/http/HTTP.html#强缓存" class="sidebar-link">强缓存</a></li><li class="sidebar-sub-header"><a href="/chuting.github.io/http/HTTP.html#协商缓存" class="sidebar-link">协商缓存</a></li></ul></li><li class="sidebar-sub-header"><a href="/chuting.github.io/http/HTTP.html#https" class="sidebar-link">HTTPS</a></li><li class="sidebar-sub-header"><a href="/chuting.github.io/http/HTTP.html#http2" class="sidebar-link">HTTP2</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/chuting.github.io/http/HTTP.html#http1-1存在的问题" class="sidebar-link">HTTP1.1存在的问题</a></li><li class="sidebar-sub-header"><a href="/chuting.github.io/http/HTTP.html#http2优势" class="sidebar-link">HTTP2优势</a></li></ul></li></ul></li></ul></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>WebAPI</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>Webpack</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>HTML&amp;CSS</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>浏览器</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>JavaScript</span> <span class="arrow right"></span></p> <!----></section></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><h1 id="http"><a href="#http" class="header-anchor">#</a> HTTP</h1> <p>基于TCP：TCP是一个端到端的可靠的面向连接的协议，HTTP基于传输层TCP协议不用担心数据传输的问题</p> <h2 id="过程"><a href="#过程" class="header-anchor">#</a> 过程</h2> <p>​	 ①对域名进行域名解析，浏览器自身的DNS缓存-&gt;系统自身的DNS缓存-&gt;hosts-&gt;DNS服务器</p> <p>​     ②根据IP，找到对应的服务器，发起TCP的三次握手建立连接</p> <p>​     ③建立连接，发起HTTP请求</p> <p>​     ④服务器响应HTTP请求得到HTML代码</p> <p>​     ⑤浏览器解析HTML代码，请求代码中的资源</p> <p>​     ⑥浏览器对页面进行渲染</p> <p>​     ⑦浏览器关闭，TCP四次挥手断开连接</p> <h2 id="状态码"><a href="#状态码" class="header-anchor">#</a> 状态码</h2> <p><strong>200</strong>：请求已成功，请求所希望的响应头或数据体将随此响应返回。
400：请求格式错误。</p> <ol><li>语义有误，当前请求无法被服务器理解。除非进行 修改，否则客户端不应该重
复提交这个请求；</li> <li>请求参数有误。</li></ol> <p><strong>404</strong>：请求失败，请求所希望得到的资源未被在服务器上发现。
500：服务器遇到了一个未曾预料的状况，导致了它无法完成对请求的处理。</p> <p><strong>100</strong> =&gt;正在初始化（一般是看不到的）
101 =&gt;正在切换协议（ websocket 浏览器提供的）
202 =&gt;表示接受
<strong>301</strong> =&gt;永久重定向 永久转移
<strong>302</strong> =&gt;临时重定向 临时转移（一般用来做服务器负载均衡）
304 =&gt;本次获取的内容是读取缓存中的数据，会每次去服务器校验
401 =&gt;未认证，没有登录网站
<strong>403</strong> =&gt;禁止访问，没有权限
502 =&gt;充当网关或代理的服务器，从远端服务器接收到了一个无效的请求
<strong>503</strong> =&gt;服务器超负荷（假设一台服务器只能承受 10000 人，当第 10001 人访问的时候，如果服务器没有做负载均衡，那么这个人的网络状态码就是 503
505 =&gt;服务器不支持请求的 HTTP 协议的版本，无法完成处理。</p> <h2 id="http缓存"><a href="#http缓存" class="header-anchor">#</a> HTTP缓存</h2> <h3 id="强缓存"><a href="#强缓存" class="header-anchor">#</a> 强缓存</h3> <p>利用http 的返回头中的 Expires 或者 Cache Control 两个字段来控制的，用来表示资源的缓存时间。</p> <h4 id="expires"><a href="#expires" class="header-anchor">#</a> Expires</h4> <p>①缓存过期时间，用于指定资源到期的时间</p> <p>②是服务器响应消息头字段，在响应http请求时告知浏览器在过期时间前可以从浏览器缓存取数据</p> <p>③这个时间是一个绝对时间，当客户端本地时间被修改后，服务器与客户端时间偏差变大，就会导致缓存混乱</p> <h4 id="cache-control"><a href="#cache-control" class="header-anchor">#</a> Cache Control</h4> <p>①CacheControl 是一个相对时间，例如 Cache Control:3600 ，代表着资源的有效期是 3600秒。由于是相对时间，并且都是与客户端间比较，所以服务器与客户端时间偏差也不会导致问题。</p> <p>②CacheControl 与 Expires 同时启用的时候Cache Control 优先级高</p> <p>③由多个字段组合生成</p> <p>​	Ⅰ、max-age：指定一个时间长度，在这个时间段内是有效的</p> <h3 id="协商缓存"><a href="#协商缓存" class="header-anchor">#</a> 协商缓存</h3> <blockquote><p>询问服务器缓存文件是否更新，没有更新就用缓存，更新则向服务器发送请求</p></blockquote> <p>若未命中强缓存，浏览器则会向服务器发起请求，服务器根据http头信息中的Last- Modify/if-Modify-Since或Etag/if-None-Match来判断是否命中协商缓存，命中则返回304，浏览器从缓存中加载资源</p> <h4 id="last-modify-if-modify-since"><a href="#last-modify-if-modify-since" class="header-anchor">#</a> Last- Modify/if-Modify-Since</h4> <p>浏览器第一次请求一个资源时，服务器返回的head中会加上Last-Modify，它是一个时间标识，表示该资源的最后修改时间</p> <p>当浏览器再次请求该资源时，发送的请求头会包含/if-Modify-Since，浏览器根据资源最后修改时间判断是否命中缓存</p> <p>如果命中缓存，返回304，不会返回资源内容、Last-Modify</p> <p>但是有时通过最后修改时间来判断资源是否修改还是不太准确，资源变化最后修改时间也可以一致</p> <h4 id="etag-if-none-match"><a href="#etag-if-none-match" class="header-anchor">#</a> Etag/if-None-Match</h4> <p>Etag/if-None-Match返回的是一个校验码，可以保证每一个资源是唯一的，资源变化会导致ETag变化，ETag值的变更则说明状态已经被修改，服务器根据浏览器上发送的if-None-Match来判断是否命中缓存</p> <h2 id="https"><a href="#https" class="header-anchor">#</a> HTTPS</h2> <h4 id="简述"><a href="#简述" class="header-anchor">#</a> 简述</h4> <p>https 并不是直接通过非对称加密传输过程，而是有握手过程，握手过程主要是和服务器做通讯，生成私有秘钥，最后通过该秘钥对称加密传输数据。还有验证证书的正确性。 证书验证过程保证了对方是合法的，并且中间人无法通过伪造证书方式进行攻击。</p> <h4 id="组成"><a href="#组成" class="header-anchor">#</a> 组成</h4> <p>HTTPS 主要由两部分组成：HTTP + SSL / TLS，也就是在 HTTP 上又加了一层处理加密信息的模块。服务端和客户端的信息传输都会通过 TLS 进行加密，所以传输的数据都是加密后的数据。</p> <h4 id="优势"><a href="#优势" class="header-anchor">#</a> 优势</h4> <h5 id="_1、双向的身份认证"><a href="#_1、双向的身份认证" class="header-anchor">#</a> 1、双向的身份认证</h5> <p><a href="https://baike.baidu.com/item/%E5%AE%A2%E6%88%B7%E7%AB%AF/101081" target="_blank" rel="noopener noreferrer">客户端<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>和<a href="https://baike.baidu.com/item/%E6%9C%8D%E5%8A%A1%E7%AB%AF/6492316" target="_blank" rel="noopener noreferrer">服务端<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>在传输数据之前,会通过基于<a href="https://baike.baidu.com/item/X.509/2817050" target="_blank" rel="noopener noreferrer">X.509<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>证书对双方进行身份认证</p> <p>①客户端发起 SSL 握手消息给服务端要求连接。</p> <p>②服务端将证书发送给客户端。</p> <p>③客户端检查服务端证书，确认是否由自己信任的证书签发机构签发。 如果不是，将是否继续通讯的决定权交给用户选择 ( 注意，这里将是一个安全缺陷 )。如果检查无误或者用户选择继续，则客户端认可服务端的身份。</p> <p>④服务端要求客户端发送证书，并检查是否通过验证。失败则关闭连接，认证成功则从客户端证书中获得客户端的<a href="https://baike.baidu.com/item/%E5%85%AC%E9%92%A5/6447788" target="_blank" rel="noopener noreferrer">公钥<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>，一般为1024位或者 2048位。到此，服务器客户端双方的身份认证结束，双方确保身份都是真实可靠的。</p> <h5 id="_2、数据传输的机密性"><a href="#_2、数据传输的机密性" class="header-anchor">#</a> 2、数据传输的机密性</h5> <p>①客户端和服务端在开始传输数据之前，会协商传输过程需要使用的加密算法。</p> <p>②客户端发送协商请求给服务端, 其中包含自己支持的算法以及加密密钥的长度。</p> <p>③ 服务端接收到消息之后，选中安全性最高的算法，并将选中的算法发送给客户端，完成协商。</p> <p>④客户端生成随机的字符串，通过协商好的<a href="https://baike.baidu.com/item/%E9%9D%9E%E5%AF%B9%E7%A7%B0%E5%8A%A0%E5%AF%86%E7%AE%97%E6%B3%95/1208652" target="_blank" rel="noopener noreferrer">非对称加密算法<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>，使用服务端的公钥对该字符串进行加密，发送给服务端。</p> <p>⑤ 服务端接收到之后，使用自己的私钥解密得到该字符串。在随后的数据传输当中，使用这个字符串作为密钥进行对称加密 。</p> <h5 id="_3、防止重放攻击"><a href="#_3、防止重放攻击" class="header-anchor">#</a> 3、防止重放攻击</h5> <p>①SSL使用序列号来保护通讯方免受报文重放攻击。</p> <p>②这个序列号被加密后作为数据包的负载。在整个SSL握手中,都有一个唯一的随机数来标记SSL握手。</p> <p>③这样防止了攻击者嗅探整个登录过程，获取到加密的登录数据之后，不对数据进行解密, 而直接重传登录数据包的攻击手法。</p> <h2 id="http2"><a href="#http2" class="header-anchor">#</a> HTTP2</h2> <h3 id="http1-1存在的问题"><a href="#http1-1存在的问题" class="header-anchor">#</a> HTTP1.1存在的问题</h3> <h4 id="_1、tcp-连接数限制"><a href="#_1、tcp-连接数限制" class="header-anchor">#</a> 1、TCP 连接数限制</h4> <p>对于同一个域名，浏览器最多只能同时创建 6~8 个 TCP 连接</p> <p>​		解决方案：为了解决数量限制，出现了 <code>域名分片</code> 技术，其实就是资源分域，将资源放在不同域名下</p> <p>​		弊端：对于服务器来说过多连接也容易造成网络拥挤、交通阻塞等</p> <h4 id="_2、线头阻塞问题"><a href="#_2、线头阻塞问题" class="header-anchor">#</a> 2、线头阻塞问题</h4> <p>每个 TCP 连接同时只能处理一个请求 - 响应，浏览器按 先进先出 原则处理请求，如果上一个响应没返回，后续请求 - 响应都会受阻</p> <p>​		解决方案：管线化 技术，<strong>将多个 HTTP 请求（request）整批提交</strong>，而在发送过程中不需先等待伺服端的回应。</p> <p>​		弊端：第一个响应慢还是会阻塞后续响应、服务器为了按序返回相应需要缓存多个响应占用更多资源、浏览器中途断连重试服务器可能得重新处理多个请求、还有必须客户端 - 代理 - 服务器都支持管线化</p> <h4 id="_3、明文传输不安全"><a href="#_3、明文传输不安全" class="header-anchor">#</a> 3、明文传输不安全</h4> <h4 id="_4、单个请求内容变大"><a href="#_4、单个请求内容变大" class="header-anchor">#</a> 4、单个请求内容变大</h4> <p>为了尽可能减少请求数，需要做合并文件、雪碧图、资源内联等优化工作，但是这无疑造成了单个请求内容变大延迟变高的问题，且内嵌的资源不能有效地使用缓存机制</p> <h3 id="http2优势"><a href="#http2优势" class="header-anchor">#</a> HTTP2优势</h3> <h4 id="_1、二进制分帧层"><a href="#_1、二进制分帧层" class="header-anchor">#</a> 1、二进制分帧层</h4> <p>帧是数据传输的最小单位，以二进制传输代替原本的明文传输，原本的报文消息被划分为更小的数据帧</p> <h5 id="帧-frame-和流-stream"><a href="#帧-frame-和流-stream" class="header-anchor">#</a> 帧（frame）和流（stream）</h5> <ul><li>Stream 为 Request/Response 报文的双向通道，一个完整资源的请求与相应是一个 stream，特殊的 stream 作为 Settings、Window_Update 等 Frame 发送的通道</li> <li>Frame 为 http2 通信的最小单位，有 Data、Headers 等，一个 Stream 包含多个 Frame，如一条 http 请求包含 Header、Data Frame 等</li></ul> <h4 id="_2、多路复用"><a href="#_2、多路复用" class="header-anchor">#</a> 2、多路复用</h4> <p>在一个 TCP 连接上，我们可以向对方不断发送帧，每帧的 stream identifier 的标明这一帧属于哪个流，然后在对方接收时，根据 stream identifier 拼接每个流的所有帧组成一整块数据。 把 HTTP/1.1 每个请求都当作一个流，那么多个请求变成多个流，请求响应数据分成多个帧，不同流中的帧交错地发送给对方，这就是 HTTP/2 中的多路复用。</p> <p>流的概念实现了单连接上多请求 - 响应并行，解决了线头阻塞的问题，减少了 TCP 连接数量和 TCP 连接慢启动造成的问题</p> <p>所以 http2 对于同一域名只需要创建一个连接，而不是像 http/1.1 那样创建 6~8 个连接:</p> <h4 id="_3、头部压缩"><a href="#_3、头部压缩" class="header-anchor">#</a> 3、头部压缩</h4> <p>使用 <a href="https://link.juejin.cn/?target=https%3A%2F%2Fhttpwg.org%2Fspecs%2Frfc7541.html" target="_blank" rel="noopener noreferrer">HPACK<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> 算法来压缩首部内容</p> <h4 id="_4、服务端推送"><a href="#_4、服务端推送" class="header-anchor">#</a> 4、服务端推送</h4> <p>浏览器发送一个请求，服务器主动向浏览器推送与这个请求相关的资源，这样浏览器就不用发起后续请求。</p></div> <footer class="page-edit"><!----> <!----></footer> <div class="page-nav"><p class="inner"><span class="prev">
      ←
      <a href="/chuting.github.io/typescript/TS练习题总结.html" class="prev">
        练习总结
      </a></span> <span class="next"><a href="/chuting.github.io/WebAPI/WebAPI.html">
        WebAPI
      </a>
      →
    </span></p></div> </main></div><div class="global-ui"><!----></div></div>
    <script src="/chuting.github.io/assets/js/app.ddf6de4f.js" defer></script><script src="/chuting.github.io/assets/js/2.32e0a827.js" defer></script><script src="/chuting.github.io/assets/js/13.9f3839f9.js" defer></script>
  </body>
</html>
